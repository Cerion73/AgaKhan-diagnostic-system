<!-- signin.html -->
{% extends 'dashboard.html' %}

{% block content %}
<div class="auth-card">
    <h2 class="text-center mb-4">Welcome</h2>
    <p class="text-center">To proceed with the diagnostic process, sign in to your account below:</p>
    
    <div class="form-group">
        <label>Name</label>
        <input type="text" class="form-control" id="id_username" required>
    </div>

    <div class="form-group">
        <label>Phone</label>
        <input type="tel" class="form-control" pattern="+254[0-9]{9}">
    </div>

    <div class="form-group">
        <label>Password</label>
        <input type="password" class="form-control" id="id_password" required>
    </div>

    <div class="form-group">
        <label>Branch</label>
        <select class="form-select" id="branchSelect">
            <option>Select...</option>
            <!-- Populated via API -->
        </select>
    </div>

    <button class="btn btn-primary w-100" onclick="handleLogin()">Submit</button>

    <p class="text-center mt-3">
        Don't have an account? <a href="/signup/">Sign up</a>
    </p>
</div>

<!-- <script>
    // Populate branches
    fetch('/api/branches/')
        .then(response => response.json())
        .then(data => {
            const select = document.getElementById('branchSelect');
            data.forEach(branch => {
                const option = document.createElement('option');
                option.value = branch.id;
                option.textContent = branch.name;
                select.appendChild(option);
            });
        });
</script> -->
{% endblock %}